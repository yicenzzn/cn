
# 安全加速 SCDN 域名管理


SCDN提供域名管理功能，支持域名配置以及域名列表。域名配置用于添加您的域名，接入安全加速SCDN。域名列表功能可以查看、搜索您实例下配置的所有域名。


域名配置提供NS全接入以及CNAME半接入两种域名添加方式。

- 全接入方式即NS接入，可针对根域名进行安全防护，且DNS解析过程相对较少，无需CNAME二次跳转。
- 半接入即CNAME接入，接入方式简单，适用于大多数接入场景，灵活性强，一般用户采用CNAME半接入方式即可。



**Cname半接入方式接入参考**



1. 进入安全加速SCDN-域名管理。
2. 点击添加域名，输入需要添加的域名，选择半接入方式，点击确认。
3. 如添加正常，系统将会自动生成CNAME记录与TXT校验记录。
4. 点击操作中的DNS配置，弹出页面，添加源站的IPv4地址。
5. 进行TXT验证，
打开根域名的解析管理控制台，如前往example.com的DNS解析管理面板，使用verify.test.example.com作为主机记录，添加TXT校验记录，系统校验完成后域名生效。
6. 添加CNAME记录，
去往根域名的解析管理面板，如前往example.com的DNS解析管理面板，添加CNAME记录将test.example.com指向CNAME：test.example.com.lk-d49fa0.cdn.jdcloud-scdndns.com。

注意：
 - 切换解析记录之前，请确认您的源站IP等配置准确性。
 - TXT记录的主机记录中的“verify”单词，还请关注避免忽略。
 - 确定您的网站业务的合规性，符合服务协议中的承诺要求。
 - 确定您的网站已经成功完成备案，未进行备案的域名将无法进行添加。
 - 请及时关注站点的备案情况，如果备案被取消，安全加速SCDN也将按照监管要求，暂停提供服务。

如下图所示为，添加域名后，在DNS配置源站的IP地址。


![添加A记录](https://github.com/jdcloudcom/cn/blob/cn-starshield/image/Starshield/ADD-A-Accord.png)


**用于隐藏源站IP的代理、非代理功能**

安全加速SCNDN 提供用户的代理以及非代理功能，当显示为代理模式时，用户请求流量会通过安全加速SCDN的网络，加速静态资源并保护您的网站。
当非代理状态时，您的DNS记录可能会泄露您的源站IP地址，该种情况下容易遭受攻击，非特殊情况或业务不建议开启该状态。
- 开启代理功能的情况

  该情况下需要隐藏源站IP地址，请单击编辑解析，点击代理到安全加速。为了使用安全加速的缓存和安全功能，我们建议您将 HTTP 流量的 DNS 记录（包括 A、AAAA 和 CNAME）设为代理模式。但是，请不要将用于解析 MX 记录的 A、AAAA 或 CNAME 记录设为代理。  例如，如果您有一个 MX 记录指向作为邮件服务器的 mail.example.com，则将 mail.example.com 的 A 记录设为代理会中断您的邮件流量。

- 关闭DNS代理的情况

  有些情况下，您的部分 DNS 记录需要保持非代理状态。例如：用于邮件流量的的 A、AAAA 或 CNAME 记录不得设为代理状态，因为电子邮件路由无法通过安全加速的代理。当您在同服务器上托管多个服务（例如，网站和电子邮件）时,为降低此风险，我们建议您在与您站点的源站不同的服务器（内部或外部）中托管您的电子邮件服务。
  
  
**SCDN 支持的解析记录类型与解析记录值说明**
  
   CNAME半接入方式，支持的解析记录类型如下：
     
       A 将域名指向一个IPV4地址
       AAAA 将域名指向一个IPV6地址
       CNAME 将域名指向另外一个域名
   
   NS全接入的方式，支持的解析记录类型如下：
      
      A 将域名指向一个IPV4地址
      AAAA 将域名指向一个IPV6地址
      CNAME 将域名指向另外一个域名
      NS 将子域名指定其他DNS服务器解析
      MX 将域名指向邮件服务器地址
      SRV 记录提供特定服务的服务器
      TXT 文本长度限制255，通常做SPF记录（反垃圾邮件）
      CAA CA证书颁发机构授权校验
      
 解析记录值说明：

- A 记录，是将访问者的浏览器请求重定向到源服务器。
- Cname，是将访问者的浏览器请求重定向到源服务器。与A记录不同，Cname将指向 example.com 等主机名，而不是IP地址，然后，example.com 将具有列出 IP 地址的 A 记录或使用指向不同主机名的另一个 CNAME 记录。最终，CNAME 记录链必须指向解析为 IP 地址的主机名。
- AAAA 记录，是将访问者的浏览器请求重定向到源服务器，需使用IPv6地址。
