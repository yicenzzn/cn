
# 资源缓存
安全加速SCDN支持静态资源缓存功能，该功能可以在距离访问者更近的地方提供资源，节省源站不必要的访问流量，提升用户浏览体验。

**缓存功能说明**

安全加速SCDN 根据以下内容缓存静态内容：
- 域名访问者的来源
- 访问者可以到达哪个安全加速数据中心
- 访问者在特定数据中心请求资源频率

安全加速在以下情况下将不缓存资源：

- 域名管理-DNS配置中，代理状态设置为未代理的情况。


安全加速SCDN 提供几种缓存自定义选项：

- 通过“缓存”页面调整缓存级别、TTL等
- 通过“页面规则”为各个URL指定缓存的配置

注：针对不同套餐级别，缓存文件大小的上限限制不同，具体可参考实例购买页面的套餐规格描述。

**缓存文件类型**


安全加速SCDN 通过文件扩展名类型进行资源缓存，它将会自动缓存包含某些文件扩展名的文件，默认不缓存HTML。

如需缓存HTML内容，需要通过页面规则功能，来设置需要缓存的内容。

目前安全加速SCDN支持的静态资源缓存内容如下：


bmp、ejs、jpeg、pdf、ps、ttf

class、eot、jpg、pict、svg、webp

css、eps、js、pls、svgz、woff

csv、gif、mid、png、swf、woff2

doc、ico、midi、ppt、tif、xls

docx、jar、otf、pptx、tiff、xlsx


**缓存状态标头**

通过Cache-Status标头输出显示资源是否缓存。
缺少标头的情况标明资源未缓存。

- HIT 在安全加速的缓存中找到资源
- MISS 未在安全加速缓存中找到资源，从源Web服务器获取
- EXPIRED 在安全加速缓存中找到资源但已过期，从源Web服务器获取
- STALE 资源通过缓存提供，但已经过期，安全加速无法获取源站检索更新后的资源
- BYPASS 源站通过设置为no-cache、private或max-age=0的Cache-Control标头指示源站绕过缓存
- REWALIDATED 资源通过缓存提供，但已过时。已通过 If-Modified-Since 标头或 If-None-Match 标头重新验证资源
- UPDATING 资源通过缓存提供，但已过期。资源目前正在由源Web服务器进行更新。

**缓存配置**
- 清除缓存

  安全加速支持全部缓存清除，也支持自定义清除。清除缓存可能会暂时降低源站性能。
  
  目前自定义清除支持以下几种方式：
  - URL，缓存中与URL完全匹配的任何资源都将从缓存中清除
  - 主机名，URL中其主机与配置值相匹配的任何资源都将从缓存中清除
  - 标记，由与配置值相匹配的Tag响应标头提供服务的任何资产都将从缓存中清除
  - 前缀，此目录中所有资源都将从缓存中清除



- 缓存级别

  通过缓存级别可以为静态内容设置缓存的条件：
  - 标准，每次查询字符串更改时，都会提供不同资源

    如：example.com/pic.jpg?with=query
  - 基础，只有无查询字符串情况，才从缓存中提供资源

    如：example.com/pic.jpg
  - 简单，即使是不同的查询字符串，依旧提供相同资源，即忽略

    如：example.com/pic.jpg?ignore=this-query-string


- 缓存TTL
    - 可修改缓存资源文件的时长，如4小时、1小时、30分钟等
