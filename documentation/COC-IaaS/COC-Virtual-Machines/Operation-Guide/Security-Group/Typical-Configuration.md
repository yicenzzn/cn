# 合作安全组规则典型配置
新建合作安全组（以下简称“安全组”）默认入/出站均为全部拒绝，如果您需要对外访问或服务则需要放行相应方向的规则配置。
以下配置示意均假设对源IP/目的IP无特殊网段要求，如果希望限制访问服务的IP地址，可以在源IP处填写明确的IP地址或网段，如有多个IP地址可通过添加多条规则来实现。

## 允许SSH远程连接Linux实例
如果您希望创建的Linux实例允许使用者通过SSH协议远程登录，在不更改SSH协议默认端口的前提下，可以通过配置以下入站规则实现此类访问：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  入站   |  SSH   |   TCP |   22  |  0.0.0.0/0 或::/0   |  接受   |

## 允许RDP远程连接Windows实例
如果您希望创建的Windows实例允许使用者通过RDP协议远程登录，在不更改RDP协议默认端口的前提下，可以通过配置以下入站规则实现此类访问：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  入站   |  自定义TCP |   TCP |   3389  |  0.0.0.0/0 或::/0   |  接受   |

## 允许公网／内网PING实例
如果您希望通过PING命令来检查实例公网／内网网络是否连通，进而排查网络故障，可以通过配置以下入站规则实现此类应用：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 入站  | ALL ICMP| ALL ICMP |  ——  |  0.0.0.0/0  |  接受   |
| 入站  | ALL ICMPv6| ALL ICMPv6 |  ——  | ::/0    |  接受   |

## 允许实例提供Web服务
如果您希望创建的实例对外提供Web服务，可根据服务类型为HTTP或HTTPS配置以下入站规则实现基本Web服务：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  入站   | HTTP |   TCP |   80  |  0.0.0.0/0 或::/0   |  接受   |
|  入站   |  HTTPS |   TCP |   443  |  0.0.0.0/0 或::/0    |  接受   |

### 允许实例提供DNS服务
如果您希望创建的实例提供DNS服务，可以通过配置以下入站规则实现此类服务 ：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| --- | --- | --- | --- | --- | --- |
|  入站   | DNS（TCP） |   TCP |   53 |  0.0.0.0/0 或::/0    |  接受   |

## 允许实例提供FTP服务
如果您希望使用 FTP 软件向实例上传或下载文件，在实例上安装FTP服务器程序后，可以通过配置以下入站规则实现FTP服务的认证及数据传输 ：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| --- | --- | --- | --- | --- | --- |
|  入站   | 自定义TCP |   TCP |   20-21 |  0.0.0.0/0 或::/0   |  接受   |

## 允许实例提供MySQL/Redis/SQL Server数据库服务
如果您希望创建的实例提供数据库服务，可以通过分别配置以下3条出站规则实现其他服务对数据库的访问：

|  **规则方向**   |  **类型**   |  **协议**   |  **目标端口**   |  **源IP**   |  **策略**   |
| :--- | :--- | :--- | :--- | :--- | :--- |
|  入站   |自定义TCP |   TCP |   3306（MySQL）  |  0.0.0.0/0 或::/0   |  接受   |
|  入站   |  自定义TCP |   TCP |  6379 (Redis)  |0.0.0.0/0 或::/0  |  接受   |
|  入站   |  自定义TCP |   TCP |    1433 (SQL Server)  |0.0.0.0/0 或::/0  |  接受   |

如果您希望实例可以访问远端的数据库服务器，只需将以上规则中的方向改为“出站”即可。



