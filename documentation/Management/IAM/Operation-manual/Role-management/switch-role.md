# 代入用户角色访问

## 前置条件

子用户仅能代入信任它的用户角色，符合以下条件的子用户允许代入用户角色：

- 待代入的角色信任当前子用户
- 当前子用户具有代入角色（[sts: assumeRole](https://docs.jdcloud.com/cn/iam/api/assumerole?content=API)）的权限

## 子用户控制台代入角色

### 切换角色

子用户登录控制台之后，可在控制台账号信息的下拉菜单切换角色身份。点击“切换角色”，在角色登录页，输入要切换的角色所属主账号的 accountId 及角色名称，点击切换，即可代入用户角色，以角色身份访问控制台，原子用户所附加的权限将被屏蔽掉。

### 返回登录身份

用户角色如需在控制台切换回子用户身份，可点击账号信息下拉菜单的“返回登录身份”，即可切换回子用户身份，权限也恢复为子用户权限。

## 子用户编程方式代入角色

如果一个子用户被授予了扮演某个用户角色的权限，那么该子用户可以使用访问密钥（AccessKey）来调用 STS 服务的 （[sts: assumeRole](https://docs.jdcloud.com/cn/iam/api/assumerole?content=API)）接口来获得这个用户角色的临时访问密钥。子用户可以自行设置临时凭证的过期时间，临时凭证访问时的权限也将受限于用户角色被授予的访问权限，通常用于解决临时授权问题和跨账号访问的授权问题。

